{"version":3,"sources":["webpack://gatsby-starter-default/./src/models/blog-post-query-data.ts","webpack://gatsby-starter-default/./src/templates/author/author.tsx","webpack://gatsby-starter-default/./src/templates/author/models/author-props-data.ts"],"names":["transformBlogPostQueryDataToBlogPost","data","author","node","name","firstName","lastName","avatar","url","uri","id","title","excerpt","date","content","featuredImage","src","localFile","alt","altText","Author","pageContext","description","transformAuthorPropsDataToBlogAuthor","posts","nodes","map","transformAuthorPropsDataToBlogPosts","console","log"],"mappings":"qIA8BO,SAASA,EACdC,GACU,YACJC,EAAM,UAAGD,EAAKC,cAAR,aAAG,EAAaC,KAC5B,MAAO,CACLD,OAAQA,GAAU,CAChBE,KACEF,EAAOG,WAAaH,EAAOI,SACvBJ,EAAOG,UAAY,IAAMH,EAAOI,SAChCJ,EAAOE,KACbG,OAAQL,EAAOK,OAAOC,IACtBA,IAAKN,EAAOO,KAEdC,GAAIT,EAAKS,GACTC,MAAOV,EAAKU,MACZC,QAASX,EAAKW,QACdC,KAAMZ,EAAKY,KACXL,IAAKP,EAAKQ,IACVK,QAASb,EAAKa,QACdC,cAAed,EAAKc,eAAiB,CACnCC,IAAG,UAAEf,EAAKc,cAAcZ,YAArB,iBAAE,EAAyBc,iBAA3B,aAAE,EAAoCT,IACzCU,IAAG,UAAEjB,EAAKc,cAAcZ,YAArB,aAAE,EAAyBgB,U,4LCpC7B,SAASC,EAAT,GAAuC,IAArBnB,EAAqB,EAArBA,KAAMoB,EAAe,EAAfA,YACvBnB,ECKD,SACLD,GAEA,IAAMC,EAASD,aAAH,EAAGA,EAAMC,OACrB,OACEA,GAAU,CACRE,KACEF,EAAOG,WAAaH,EAAOI,SACvBJ,EAAOG,UAAY,IAAMH,EAAOI,SAChCJ,EAAOE,KACbG,OAAQL,EAAOK,OAAOC,IACtBA,IAAKN,EAAOO,IACZa,YAAapB,EAAOoB,aDjBTC,CAAqCtB,GAC9CuB,ECqBD,SACLvB,GACY,UACZ,OAAOA,SAAP,UAAOA,EAAMC,cAAb,iBAAO,EAAcsB,aAArB,iBAAO,EAAqBC,aAA5B,aAAO,EAA4BC,IAAI1B,KDxBzB2B,CAAoC1B,GAElD,OADA2B,QAAQC,IAAI5B,EAAMoB,IACX,SAAC,KAAD,CAAenB,OAAQA,EAAQsB,MAAOA,IAG/C","file":"component---src-templates-author-author-tsx-d896251ee9e98c374ba1.js","sourcesContent":["import { BlogPost } from '@nx-gatsby-blogs/ui';\n\nexport interface BlogPostQueryData {\n  author?: {\n    node: {\n      firstName: string;\n      lastName: string;\n      name: string;\n      uri: string;\n      avatar: {\n        url: string;\n      };\n    };\n  };\n  id: string;\n  title: string;\n  excerpt: string;\n  date: string;\n  uri: string;\n  content?: string;\n  featuredImage?: {\n    node: {\n      altText: string;\n      localFile: {\n        url: string;\n      };\n    };\n  };\n}\n\nexport function transformBlogPostQueryDataToBlogPost(\n  data: BlogPostQueryData\n): BlogPost {\n  const author = data.author?.node;\n  return {\n    author: author && {\n      name:\n        author.firstName && author.lastName\n          ? author.firstName + ' ' + author.lastName\n          : author.name,\n      avatar: author.avatar.url,\n      url: author.uri,\n    },\n    id: data.id,\n    title: data.title,\n    excerpt: data.excerpt,\n    date: data.date,\n    url: data.uri,\n    content: data.content,\n    featuredImage: data.featuredImage && {\n      src: data.featuredImage.node?.localFile?.url,\n      alt: data.featuredImage.node?.altText,\n    },\n  };\n}\n","import { AuthorDetails } from '@nx-gatsby-blogs/ui';\nimport { graphql } from 'gatsby';\nimport React from 'react';\n\nimport { BlogPostPropsData } from '../blog-post/models/blog-post-props-data';\n\nimport {\n  transformAuthorPropsDataToBlogAuthor,\n  transformAuthorPropsDataToBlogPosts,\n} from './models/author-props-data';\n\nexport interface AuthorProps {\n  data: BlogPostPropsData;\n}\n\nexport function Author({ data, pageContext }) {\n  const author = transformAuthorPropsDataToBlogAuthor(data);\n  const posts = transformAuthorPropsDataToBlogPosts(data);\n  console.log(data, pageContext);\n  return <AuthorDetails author={author} posts={posts}></AuthorDetails>;\n}\n\nexport default Author;\n\nexport const pageQuery = graphql`\n  query WordpressUser($id: String!) {\n    author: wpUser(id: { eq: $id }) {\n      firstName\n      lastName\n      name\n      uri\n      description\n      avatar {\n        url\n      }\n      posts {\n        nodes {\n          id\n          excerpt\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          uri\n          featuredImage {\n            node {\n              altText\n              localFile {\n                url\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import { BlogPost, BlogAuthor } from '@nx-gatsby-blogs/ui';\n\nimport {\n  BlogPostQueryData,\n  transformBlogPostQueryDataToBlogPost,\n} from '../../../models/blog-post-query-data';\n\nexport interface AuthorPropsData {\n  author: {\n    firstName: string;\n    lastName: string;\n    name: string;\n    uri: string;\n    description: string;\n    avatar: {\n      url: string;\n    };\n    posts?: { nodes: BlogPostQueryData[] };\n  };\n}\n\nexport function transformAuthorPropsDataToBlogAuthor(\n  data: AuthorPropsData\n): BlogAuthor {\n  const author = data?.author;\n  return (\n    author && {\n      name:\n        author.firstName && author.lastName\n          ? author.firstName + ' ' + author.lastName\n          : author.name,\n      avatar: author.avatar.url,\n      url: author.uri,\n      description: author.description,\n    }\n  );\n}\n\nexport function transformAuthorPropsDataToBlogPosts(\n  data: AuthorPropsData\n): BlogPost[] {\n  return data?.author?.posts?.nodes?.map(transformBlogPostQueryDataToBlogPost);\n}\n"],"sourceRoot":""}